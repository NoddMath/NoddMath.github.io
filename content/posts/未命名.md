# Lecture 4. Tensor Fields and Affine Connections: Differentiation Without Coordinates

Lectures 1--3 lived in the linear world of $(\R^{1,3},\eta)$, where “differentiation” is essentially ordinary differentiation of vector-valued functions. To move toward curvature, we must learn how to differentiate **vector fields on a manifold** in a way that is intrinsic and coordinate-independent. The correct device is an **affine connection** (covariant derivative). This lecture reviews the tensor algebra viewpoint and introduces connections abstractly, together with their coordinate expressions (Christoffel symbols) and the key warning: Christoffel symbols are **not** the components of a tensor.

## Tensors at a Point and Tensor Fields

Let $M$ be a smooth $n$-manifold. We assume basic familiarity with tangent spaces $T_pM$ and smooth vector fields $\mathfrak{X}(M)$, but we will be explicit about conventions and coordinate behavior since this is where most errors in relativity originate.

> [!info] Tensors of Type $(k,\ell)$ at a Point
> Let $V$ be a real vector space. A **tensor of type $(k,\ell)$ on $V$** is a multilinear map
> $$T:\underbrace{V^*\times\cdots\times V^*}_{k\text{ times}}\times \underbrace{V\times\cdots\times V}_{\ell\text{ times}}\to \R.$$
> The space of such tensors is canonically identified with
> $$\mathsf{T}^k{}_\ell(V):=\underbrace{V\otimes\cdots\otimes V}_{k\text{ times}}\otimes \underbrace{V^*\otimes\cdots\otimes V^*}_{\ell\text{ times}}.$$

> [!info] Tensor Fields
> A **tensor field of type $(k,\ell)$** on $M$ is a smooth assignment
> $$p\longmapsto T(p)\in \mathsf{T}^k{}_\ell(T_pM).$$
> We denote the space of smooth $(k,\ell)$-tensor fields by $\Gamma(\mathsf{T}^k{}_\ell M).$

> [!danger] Remark
> Vector fields are $(1,0)$-tensors; covector fields (1-forms) are $(0,1)$-tensors; functions are $(0,0)$-tensors.
> A metric $g$ is a symmetric $(0,2)$-tensor field.
> The stress-energy tensor in GR is also a symmetric $(0,2)$-tensor field $T$.

## Coordinates: Bases, Components, and Transformation Laws

Let $(U;x^1,\dots,x^n)$ be a coordinate chart. We write
$$\partial_i := \frac{\partial}{\partial x^i},\qquad dx^i(\partial_j)=\delta^i{}_j.$$
Then $\{\partial_i|_p\}$ is a basis of $T_pM$ and $\{dx^i|_p\}$ is the dual basis of $T_p^*M$.

> [!info] Components of a Tensor Field
> If $T\in \Gamma(\mathsf{T}^k{}_\ell M)$, its coordinate components on $U$ are the functions
> $$T^{i_1\cdots i_k}{}_{j_1\cdots j_\ell}:=T(dx^{i_1},\dots,dx^{i_k},\partial_{j_1},\dots,\partial_{j_\ell}).$$
> Equivalently,
> $$T = T^{i_1\cdots i_k}{}_{j_1\cdots j_\ell}\; \partial_{i_1}\otimes\cdots\otimes \partial_{i_k}\otimes dx^{j_1}\otimes\cdots\otimes dx^{j_\ell}.$$

> [!abstract] Tensor Transformation Law
> Let $(x^i)$ and $(x'^a)$ be two coordinate systems on an overlap, and let $T\in \Gamma(\mathsf{T}^k{}_\ell M)$. Then the components transform by
> $$T'^{a_1\cdots a_k}{}_{b_1\cdots b_\ell}=\frac{\partial x'^{a_1}}{\partial x^{i_1}}\cdots \frac{\partial x'^{a_k}}{\partial x^{i_k}}\frac{\partial x^{j_1}}{\partial x'^{b_1}}\cdots \frac{\partial x^{j_\ell}}{\partial x'^{b_\ell}}\; T^{i_1\cdots i_k}{}_{j_1\cdots j_\ell}.$$

> [!success] Proof
> Use $\partial_{b}'=\frac{\partial x^j}{\partial x'^b}\partial_j$ and $dx'^a=\frac{\partial x'^a}{\partial x^i}dx^i$, then multilinearity.

> [!danger] Remark
> Equation $\eqref{eq:tensor-transform}$ is the **defining** signature of tensoriality. Any purported “components” that transform with extra second-derivative terms are not components of a tensor. This will be the key warning for Christoffel symbols below.

## Contractions, Raising/Lowering, and the Musical Isomorphisms

> [!info] Contraction
> Given $T\in \mathsf{T}^k{}_\ell(V)$ and indices $1\le r\le k$, $1\le s\le \ell$, the contraction $\mathrm{tr}_{r,s}T\in \mathsf{T}^{k-1}{}_{\ell-1}(V)$ is obtained by pairing the $r$-th covector slot with the $s$-th vector slot. In coordinates, contraction corresponds to summing one upper and one lower index.

Now suppose $g$ is a (semi-)Riemannian metric on $M$. At each $p$, $g_p$ identifies $T_pM$ and $T_p^*M$.

> [!info] Musical Isomorphisms
> Let $g$ be a nondegenerate $(0,2)$-tensor field. Define
> $$\flat:TM\to T^*M,\qquad v^\flat:=g(v,\cdot),$$
> and its inverse
> $$\sharp:T^*M\to TM,\qquad \alpha^\sharp \ \text{defined by}\ g(\alpha^\sharp,\cdot)=\alpha.$$
> In coordinates, $v_i=g_{ij}v^j$ and $\alpha^i=g^{ij}\alpha_j$ where $(g^{ij})=(g_{ij})^{-1}.$

> [!danger] Remark
> In Lorentzian signature, $g^\flat$ and $g^\sharp$ still exist (nondegeneracy is what matters), but one must remember that $g(v,v)$ can be negative. This is why sign conventions matter in GR.

## Why We Need a Connection

If $f$ is a smooth function, the differential $df$ is a 1-form, and for any vector field $X$, the directional derivative $X(f)$ is intrinsic. However, for vector fields $Y$, the naive idea “$X(Y)$” does not make sense intrinsically: $Y(p)\in T_pM$ lives in a different vector space for each $p$.

The role of a connection is to give a notion of “derivative of vector fields along vector fields” that behaves like differentiation and respects tensorial operations.

## Affine Connections: Axioms and Basic Consequences

> [!info] Affine Connection and Covariant Derivative
> An **affine connection** (or **covariant derivative**) on $TM$ is an $\R$-bilinear map
> $$\nabla:\mathfrak{X}(M)\times \mathfrak{X}(M)\to \mathfrak{X}(M),\qquad (X,Y)\mapsto \nabla_X Y,$$
> such that for all $X,X',Y,Y'\in \mathfrak{X}(M)$ and $f\in C^\infty(M)$:
> 
> (i) $\nabla_{fX+X'}Y = f\nabla_X Y+\nabla_{X'}Y$ \quad ($C^\infty$-linearity in the first slot),
> 
> (ii) $\nabla_X(Y+Y')=\nabla_XY+\nabla_XY'$ \quad ($\R$-linearity in the second slot),
> 
> (iii) $\nabla_X(fY)=X(f)\,Y+f\nabla_XY$ \quad (Leibniz rule in the second slot).

> [!danger] Remark
> The first slot cannot be $C^\infty$-linear in **both** slots: otherwise $\nabla$ would be tensorial and carry no information about differentiation. The correct balance is:
> $$\nabla_{fX}Y=f\nabla_XY\quad\text{(tensorial in }X),\qquad \nabla_X(fY)=X(f)Y+f\nabla_XY\quad\text{(derivation in }Y).$$

> [!info] Covariant Derivative of Functions
> Given a connection $\nabla$, define $\nabla_X f := X(f)$ for $f\in C^\infty(M)$. This is consistent with viewing functions as $(0,0)$-tensors.

> [!info] Torsion
> The **torsion tensor** of $\nabla$ is the map
> $$T^\nabla:\mathfrak{X}(M)\times\mathfrak{X}(M)\to \mathfrak{X}(M),\qquad T^\nabla(X,Y):=\nabla_XY-\nabla_YX-[X,Y].$$

> [!abstract] Torsion Is Tensorial
> $T^\nabla$ is $C^\infty(M)$-linear in each argument, hence defines a tensor field of type $(1,2)$.

> [!success] Proof
> Using Definition $\ref{defn:connection}$ and the Leibniz property of the Lie bracket, one checks directly that $T^\nabla(fX,Y)=fT^\nabla(X,Y)$ and similarly in the second slot.

> [!danger] Remark
> In GR, the default connection is torsion-free (Levi–Civita). But torsion is a meaningful geometric option in other theories (e.g. Einstein–Cartan). We keep torsion explicit until Lecture 5.

## Induced Covariant Derivative on Tensor Fields

A connection on $TM$ canonically induces covariant derivatives on all tensor bundles by enforcing the Leibniz rule and compatibility with contractions.

> [!abstract] Covariant Derivative of 1-Forms
> Let $\nabla$ be a connection. There is a unique operator (still denoted $\nabla$) such that for any $X\in\mathfrak{X}(M)$ and any $1$-form $\alpha$,
> $$(\nabla_X\alpha)(Y) := X(\alpha(Y))-\alpha(\nabla_XY)\qquad\text{for all }Y\in\mathfrak{X}(M).$$
> Moreover, $\nabla_X\alpha$ is $C^\infty(M)$-linear in $Y$, hence a $1$-form.

> [!success] Proof
> The right-hand side is $\R$-bilinear in $X,\alpha$. To see $C^\infty$-linearity in $Y$, compute for $f\in C^\infty(M)$:
> $$X(\alpha(fY))-\alpha(\nabla_X(fY))= X(f\alpha(Y))-\alpha(X(f)Y+f\nabla_XY)= f\big(X(\alpha(Y))-\alpha(\nabla_XY)\big).$$
> Uniqueness follows since the defining identity is forced by the requirement that $\nabla$ obey Leibniz with respect to the pairing $\alpha(Y)$.

> [!abstract] Covariant Derivative of General Tensors
> There is a unique extension of $\nabla$ to an operator
> $$\nabla:\mathfrak{X}(M)\times \Gamma(\mathsf{T}^k{}_\ell M)\to \Gamma(\mathsf{T}^k{}_\ell M)$$
> such that:
> 
> (i) For each fixed $X$, the map $T\mapsto \nabla_X T$ is $\R$-linear and satisfies the Leibniz rule with respect to tensor products.
> 
> (ii) $\nabla_X$ commutes with contraction.
> 
> (iii) On functions and vector fields it agrees with the given $\nabla$ (and $X(f)$).
> 
> In coordinates, for $T=T^{i_1\cdots i_k}{}_{j_1\cdots j_\ell}$ one has
> $$(\nabla_a T)^{i_1\cdots i_k}{}_{j_1\cdots j_\ell}=\partial_a T^{i_1\cdots i_k}{}_{j_1\cdots j_\ell}+\sum_{r=1}^k \Gamma^{i_r}{}_{a m}\,T^{i_1\cdots m\cdots i_k}{}_{j_1\cdots j_\ell}-\sum_{s=1}^\ell \Gamma^{m}{}_{a j_s}\,T^{i_1\cdots i_k}{}_{j_1\cdots m\cdots j_\ell},$$
> where $\nabla_a:=\nabla_{\partial_a}$ and $\Gamma^k{}_{ij}$ are the Christoffel symbols of $\nabla$ in the chosen coordinates.

> [!success] Proof
> Existence and uniqueness are standard: define $\nabla$ on 1-forms by the defining identity above, then on tensor products by Leibniz, and extend by linearity and contraction compatibility. The coordinate formula follows by applying the definition to the basis $\partial_i,dx^j$ and collecting terms.

## Christoffel Symbols and Why They Are Not Tensors

> [!info] Christoffel Symbols
> Let $\nabla$ be a connection and $(x^i)$ a coordinate system. The **Christoffel symbols** $\Gamma^k{}_{ij}$ are defined by
> $$\nabla_{\partial_i}\partial_j = \Gamma^k{}_{ij}\,\partial_k.$$

> [!danger] Remark
> The coefficients $\Gamma^k{}_{ij}$ depend on the coordinate system. The geometric object is the connection $\nabla$, not the Christoffel symbols.

> [!abstract] Transformation Law for Christoffel Symbols
> Let $(x^i)$ and $(x'^a)$ be two coordinate systems. Then
> $$\Gamma'^a{}_{bc}=\frac{\partial x'^a}{\partial x^m}\frac{\partial x^p}{\partial x'^b}\frac{\partial x^q}{\partial x'^c}\,\Gamma^m{}_{pq}+\frac{\partial x'^a}{\partial x^m}\,\frac{\partial^2 x^m}{\partial x'^b\,\partial x'^c}.$$
> In particular, the Christoffel symbols do **not** transform tensorially, due to the second-derivative term.

> [!success] Proof
> Start from $\nabla_{\partial'_b}\partial'_c$ and express $\partial'_b=(\partial x^p/\partial x'^b)\partial_p$. Using $C^\infty$-linearity in the first slot and Leibniz in the second,
> $$\nabla_{\partial'_b}\partial'_c=\nabla_{\left(\frac{\partial x^p}{\partial x'^b}\partial_p\right)}\left(\frac{\partial x^q}{\partial x'^c}\partial_q\right)=\frac{\partial x^p}{\partial x'^b}\left(\partial_p\!\left(\frac{\partial x^q}{\partial x'^c}\right)\partial_q+\frac{\partial x^q}{\partial x'^c}\nabla_{\partial_p}\partial_q\right).$$
> Insert $\nabla_{\partial_p}\partial_q=\Gamma^m{}_{pq}\partial_m$ and rewrite $\partial_m=(\partial x'^a/\partial x^m)\partial'_a$. Also,
> $$\partial_p\!\left(\frac{\partial x^q}{\partial x'^c}\right)=\frac{\partial x'^d}{\partial x^p}\frac{\partial}{\partial x'^d}\!\left(\frac{\partial x^q}{\partial x'^c}\right)=\frac{\partial x'^d}{\partial x^p}\frac{\partial^2 x^q}{\partial x'^d\partial x'^c}.$$
> Collecting coefficients of $\partial'_a$ gives the stated transformation law.

> [!danger] Remark
> Equation $\eqref{eq:Gamma-transform}$ is the precise reason why “$\Gamma^k{}_{ij}$ are not a tensor”. However, there is a closely related and extremely useful tensorial statement: the **difference** of two connections is a tensor, which we now prove.

## The Difference of Two Connections Is a Tensor

> [!abstract] Difference Tensor
> Let $\nabla$ and $\widetilde\nabla$ be two affine connections on $TM$. Define
> $$A(X,Y):=\nabla_XY-\widetilde\nabla_XY.$$
> Then $A$ is $C^\infty(M)$-linear in each argument, hence determines a tensor field $A\in \Gamma(\mathsf{T}^1{}_2 M)$ (a $(1,2)$-tensor). In coordinates,
> $$A^k{}_{ij}=\Gamma^k{}_{ij}-\widetilde\Gamma^k{}_{ij},$$
> and the components $A^k{}_{ij}$ transform by the tensor rule $\eqref{eq:tensor-transform}$ with no second derivatives.

> [!success] Proof
> For $f\in C^\infty(M)$, by $C^\infty$-linearity in the first slot,
> $$A(fX,Y)=\nabla_{fX}Y-\widetilde\nabla_{fX}Y=f\nabla_XY-f\widetilde\nabla_XY=fA(X,Y).$$
> For $C^\infty$-linearity in the second slot, use the Leibniz rule in the second slot for both connections:
> $$A(X,fY)=\nabla_X(fY)-\widetilde\nabla_X(fY)=\big(X(f)Y+f\nabla_XY\big)-\big(X(f)Y+f\widetilde\nabla_XY\big)=fA(X,Y).$$
> Thus $A$ is bilinear over $C^\infty(M)$ and hence tensorial. The coordinate identity follows from the defining equation of Christoffel symbols. Tensorial transformation of $A^k{}_{ij}$ is immediate from subtracting the Christoffel transformation laws, which cancels the second-derivative term.

> [!danger] Remark
> This fact is indispensable in GR. One often compares the Levi–Civita connection $\nabla^g$ of a metric $g$ to the Levi–Civita connection of a background metric (or to a flat connection), and the difference is a bona fide tensor. In particular, many “gauge”-dependent quantities can be repackaged as tensorial statements about such differences.

## Covariant Differentiation Along a Curve

Even before we define geodesics, we need a notion of differentiating a vector field along a curve.

> [!info] Covariant Derivative Along a Curve
> Let $\gamma:I\to M$ be a $C^{1}$ curve and $\nabla$ a connection. A **vector field along $\gamma$** is a map $V:I\to TM$ such that $V(t)\in T_{\gamma(t)}M$.
> In a coordinate chart, write $V=V^i(t)\,\partial_i|_{\gamma(t)}$ and $\dot\gamma=\dot\gamma^j(t)\,\partial_j|_{\gamma(t)}$.
> Define the **covariant derivative of $V$ along $\gamma$** by
> $$\frac{DV}{dt}:=\left(\frac{dV^k}{dt}+\Gamma^k{}_{ij}(\gamma(t))\,\dot\gamma^i(t)\,V^j(t)\right)\partial_k\big|_{\gamma(t)}.$$

> [!abstract] Well-Definedness
> The expression above is independent of the chosen coordinates. Hence $DV/dt$ is intrinsically defined by the connection $\nabla$.

> [!success] Proof
> Under a coordinate change, $V^i$ and $\dot\gamma^i$ transform tensorially, while $\Gamma^k{}_{ij}$ transforms by $\eqref{eq:Gamma-transform}$ with an inhomogeneous term. A direct substitution shows that the inhomogeneous term cancels precisely against the second-derivative term coming from differentiating the transformed components $V'^a(t)$. This cancellation is the coordinate expression of the fact that $\nabla$ is geometric data, not an array of numbers.

> [!danger] Remark
> A vector field $V$ along $\gamma$ is called **parallel** if $DV/dt=0$. A curve $\gamma$ will be called a **geodesic** (for $\nabla$) if its tangent is parallel: $D\dot\gamma/dt=0$. We postpone the conceptual discussion to Lecture 6, but we will already see the geodesic equation in coordinates once we compute Christoffel symbols in an example.

## A Detailed Computation: Euclidean $\R^{2}$ in Polar Coordinates

This computation is the cleanest laboratory for understanding Christoffel symbols: the underlying geometry is flat and familiar, but the symbols become nonzero in curvilinear coordinates.

Let $M=\R^{2}\setminus\{0\}$ with standard Cartesian coordinates $(x,y)$ and polar coordinates $(r,\theta)$ related by
$$x=r\cos\theta,\qquad y=r\sin\theta.$$
Consider the standard flat connection $\nabla$ on $\R^{2}$ for which, in Cartesian coordinates,
$$\nabla_{\partial_x}\partial_x=\nabla_{\partial_x}\partial_y=\nabla_{\partial_y}\partial_x=\nabla_{\partial_y}\partial_y=0,$$
i.e. all Christoffel symbols vanish in the $(x,y)$ chart.

We compute the Christoffel symbols in the $(r,\theta)$ chart using the transformation law $\eqref{eq:Gamma-transform}$. Since $\Gamma^m{}_{pq}=0$ in Cartesian coordinates, $\eqref{eq:Gamma-transform}$ reduces to
$$\Gamma'^a{}_{bc}=\frac{\partial x'^a}{\partial x^m}\,\frac{\partial^2 x^m}{\partial x'^b\,\partial x'^c}.$$
Here $(x'^1,x'^2)=(r,\theta)$ and $(x^1,x^2)=(x,y)$.

First record the necessary derivatives:
$$\frac{\partial r}{\partial x}=\cos\theta,\qquad \frac{\partial r}{\partial y}=\sin\theta,\qquad \frac{\partial \theta}{\partial x}=-\frac{\sin\theta}{r},\qquad \frac{\partial \theta}{\partial y}=\frac{\cos\theta}{r}.$$
Next compute second derivatives of $(x,y)$ with respect to $(r,\theta)$:
$$\frac{\partial^2 x}{\partial r^2}=0,\qquad \frac{\partial^2 x}{\partial r\,\partial\theta}=-\sin\theta,\qquad \frac{\partial^2 x}{\partial \theta^2}=-r\cos\theta,$$
$$\frac{\partial^2 y}{\partial r^2}=0,\qquad \frac{\partial^2 y}{\partial r\,\partial\theta}=\cos\theta,\qquad \frac{\partial^2 y}{\partial \theta^2}=-r\sin\theta.$$

**Step 1: Compute $\Gamma^r{}_{\theta\theta}$.** Using the reduced transformation rule with $a=r$, $b=\theta$, $c=\theta$:
$$\Gamma^r{}_{\theta\theta}=\frac{\partial r}{\partial x}\frac{\partial^2 x}{\partial\theta^2}+\frac{\partial r}{\partial y}\frac{\partial^2 y}{\partial\theta^2}=\cos\theta\cdot(-r\cos\theta)+\sin\theta\cdot(-r\sin\theta)=-r(\cos^2\theta+\sin^2\theta)=-r.$$

**Step 2: Compute $\Gamma^\theta{}_{r\theta}$ and $\Gamma^\theta{}_{\theta r}$.** Using $a=\theta$, $b=r$, $c=\theta$:
$$\Gamma^\theta{}_{r\theta}=\frac{\partial \theta}{\partial x}\frac{\partial^2 x}{\partial r\,\partial\theta}+\frac{\partial \theta}{\partial y}\frac{\partial^2 y}{\partial r\,\partial\theta}=\left(-\frac{\sin\theta}{r}\right)(-\sin\theta)+\left(\frac{\cos\theta}{r}\right)(\cos\theta)=\frac{\sin^2\theta+\cos^2\theta}{r}=\frac{1}{r}.$$
By symmetry of mixed partials here (and, geometrically, the torsion-free nature of the flat connection), the same computation gives
$$\Gamma^\theta{}_{\theta r}=\Gamma^\theta{}_{r\theta}=\frac{1}{r}.$$

**Step 3: All remaining symbols vanish.** For example, with $b=c=r$, since $\partial^2x/\partial r^2=\partial^2y/\partial r^2=0$ we get
$$\Gamma^r{}_{rr}=\Gamma^\theta{}_{rr}=0,$$
and similarly $\Gamma^r{}_{r\theta}=\Gamma^r{}_{\theta r}=0$.

> [!abstract] Christoffel Symbols in Polar Coordinates for the Flat Connection
> For the standard flat connection on $\R^{2}\setminus\{0\}$, the only nonzero Christoffel symbols in polar coordinates are
> $$\Gamma^r{}_{\theta\theta}=-r,\qquad \Gamma^\theta{}_{r\theta}=\Gamma^\theta{}_{\theta r}=\frac{1}{r},$$
> and all others vanish.

> [!danger] Remark
> Even though the geometry is flat, the Christoffel symbols are not. This is the most important mental model: **Christoffel symbols measure the nonlinearity of coordinates as much as (and often more than) curvature**. Curvature will arise from a specific combination of first derivatives of $\Gamma$ and quadratic terms in $\Gamma$ that cancels the coordinate artifacts.

## Geodesic Equation in Coordinates

Using the definition of $DV/dt$, a curve $\gamma(t)=(x^k(t))$ is geodesic for $\nabla$ if
$$\frac{D\dot\gamma}{dt}=0\quad\Longleftrightarrow\quad \ddot x^k+\Gamma^k{}_{ij}(x)\,\dot x^i\dot x^j=0.$$
In polar coordinates on $\R^2\setminus\{0\}$, using the computed symbols we obtain
$$\ddot r - r\,\dot\theta^2=0,\qquad \ddot\theta + \frac{2}{r}\dot r\,\dot\theta=0.$$
These are exactly the equations for straight lines in the plane written in polar coordinates. This is a concrete illustration of the point: **geodesics are geometric, while their coordinate expressions contain Christoffel symbols**.

## Outlook

We now have the minimal apparatus for “differentiation on manifolds”: tensor fields, coordinate transformation laws, and affine connections. In the next lecture we will add one more crucial ingredient, a metric $g$ (Lorentzian in GR), and study the distinguished connection singled out by $g$: the Levi–Civita connection, characterized by torsion-free and metric-compatibility properties. This will allow us to express $\Gamma^k{}_{ij}$ in terms of $g$ and begin systematic computations of curvature.
